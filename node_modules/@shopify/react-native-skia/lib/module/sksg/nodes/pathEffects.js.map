{"version":3,"names":["composeDeclarations","enumKey","processPath","Path1DEffectStyle","makeDiscretePathEffect","ctx","props","length","deviation","seed","Skia","PathEffect","MakeDiscrete","makePath2DPathEffect","matrix","path","pe","MakePath2D","Error","makeDashPathEffect","intervals","phase","MakeDash","makeCornerPathEffect","r","MakeCorner","declareSumPathEffect","pes","pathEffects","popAll","MakeSum","bind","push","makeLine2DPathEffect","width","MakeLine2D","makePath1DPathEffect","advance","style","MakePath1D"],"sources":["pathEffects.ts"],"sourcesContent":["\"worklet\";\n\nimport { composeDeclarations, enumKey, processPath } from \"../../dom/nodes\";\nimport type {\n  CornerPathEffectProps,\n  DashPathEffectProps,\n  DeclarationContext,\n  DiscretePathEffectProps,\n  Line2DPathEffectProps,\n  Path1DPathEffectProps,\n  Path2DPathEffectProps,\n} from \"../../dom/types\";\nimport { Path1DEffectStyle } from \"../../skia/types\";\n\nexport const makeDiscretePathEffect = (\n  ctx: DeclarationContext,\n  props: DiscretePathEffectProps\n) => {\n  const { length, deviation, seed } = props;\n  return ctx.Skia.PathEffect.MakeDiscrete(length, deviation, seed);\n};\n\nexport const makePath2DPathEffect = (\n  ctx: DeclarationContext,\n  props: Path2DPathEffectProps\n) => {\n  const { matrix } = props;\n  const path = processPath(ctx.Skia, props.path);\n  const pe = ctx.Skia.PathEffect.MakePath2D(matrix, path);\n  if (pe === null) {\n    throw new Error(\"Path2DPathEffect: invalid path\");\n  }\n  return pe;\n};\n\nexport const makeDashPathEffect = (\n  ctx: DeclarationContext,\n  props: DashPathEffectProps\n) => {\n  const { intervals, phase } = props;\n  const pe = ctx.Skia.PathEffect.MakeDash(intervals, phase);\n  return pe;\n};\n\nexport const makeCornerPathEffect = (\n  ctx: DeclarationContext,\n  props: CornerPathEffectProps\n) => {\n  const { r } = props;\n  const pe = ctx.Skia.PathEffect.MakeCorner(r);\n  if (pe === null) {\n    throw new Error(\"CornerPathEffect: couldn't create path effect\");\n  }\n  return pe;\n};\n\nexport const declareSumPathEffect = (ctx: DeclarationContext) => {\n  // Note: decorateChildren functionality needs to be handled differently\n  const pes = ctx.pathEffects.popAll();\n  const pe = composeDeclarations(\n    pes,\n    ctx.Skia.PathEffect.MakeSum.bind(ctx.Skia.PathEffect)\n  );\n  ctx.pathEffects.push(pe);\n};\n\nexport const makeLine2DPathEffect = (\n  ctx: DeclarationContext,\n  props: Line2DPathEffectProps\n) => {\n  const { width, matrix } = props;\n  const pe = ctx.Skia.PathEffect.MakeLine2D(width, matrix);\n  if (pe === null) {\n    throw new Error(\"Line2DPathEffect: could not create path effect\");\n  }\n  return pe;\n};\n\nexport const makePath1DPathEffect = (\n  ctx: DeclarationContext,\n  props: Path1DPathEffectProps\n) => {\n  const { advance, phase, style } = props;\n  const path = processPath(ctx.Skia, props.path);\n  const pe = ctx.Skia.PathEffect.MakePath1D(\n    path,\n    advance,\n    phase,\n    Path1DEffectStyle[enumKey(style)]\n  );\n  if (pe === null) {\n    throw new Error(\"Path1DPathEffect: could not create path effect\");\n  }\n  return pe;\n};\n"],"mappings":"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","ignoreList":[]}