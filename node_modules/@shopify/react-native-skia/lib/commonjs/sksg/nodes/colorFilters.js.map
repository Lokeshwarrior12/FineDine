{"version":3,"names":["Object","defineProperty","exports","value","makeSRGBToLinearGammaColorFilter","makeMatrixColorFilter","makeLumaColorFilter","makeLinearToSRGBGammaColorFilter","makeBlendColorFilter","declareLerpColorFilter","_nodes","require","_types","ctx","props","mode","color","Skia","Color","cf","ColorFilter","MakeBlend","BlendMode","enumKey","MakeSRGBToLinearGamma","MakeLinearToSRGBGamma","t","second","colorFilters","pop","first","Error","MakeLerp","push","matrix","MakeMatrix","MakeLumaColorFilter"],"sources":["colorFilters.ts"],"sourcesContent":["\"worklet\";\n\nimport { enumKey } from \"../../dom/nodes\";\nimport type {\n  BlendColorFilterProps,\n  DeclarationContext,\n  LerpColorFilterProps,\n  MatrixColorFilterProps,\n} from \"../../dom/types\";\nimport { BlendMode } from \"../../skia/types\";\n\nexport const makeBlendColorFilter = (\n  ctx: DeclarationContext,\n  props: BlendColorFilterProps\n) => {\n  const { mode } = props;\n  const color = ctx.Skia.Color(props.color);\n  const cf = ctx.Skia.ColorFilter.MakeBlend(color, BlendMode[enumKey(mode)]);\n  return cf;\n};\n\nexport const makeSRGBToLinearGammaColorFilter = (ctx: DeclarationContext) => {\n  const cf = ctx.Skia.ColorFilter.MakeSRGBToLinearGamma();\n  return cf;\n};\n\nexport const makeLinearToSRGBGammaColorFilter = (ctx: DeclarationContext) => {\n  const cf = ctx.Skia.ColorFilter.MakeLinearToSRGBGamma();\n  return cf;\n};\n\nexport const declareLerpColorFilter = (\n  ctx: DeclarationContext,\n  props: LerpColorFilterProps\n) => {\n  const { t } = props;\n  const second = ctx.colorFilters.pop();\n  const first = ctx.colorFilters.pop();\n  if (!first || !second) {\n    throw new Error(\n      \"LerpColorFilterNode: missing two color filters as children\"\n    );\n  }\n  const cf = ctx.Skia.ColorFilter.MakeLerp(t, first, second);\n  ctx.colorFilters.push(cf);\n};\n\nexport const makeMatrixColorFilter = (\n  ctx: DeclarationContext,\n  props: MatrixColorFilterProps\n) => {\n  const { matrix } = props;\n  const cf = ctx.Skia.ColorFilter.MakeMatrix(matrix);\n  return cf;\n};\n\nexport const makeLumaColorFilter = (ctx: DeclarationContext) => {\n  const cf = ctx.Skia.ColorFilter.MakeLumaColorFilter();\n  return cf;\n};\n"],"mappings":";AAAA,SAAS;;AAACA,MAAA,CAAAC,cAAA,CAAAC,OAAA;EAAAC,KAAA;AAAA;AAAAD,OAAA,CAAAE,gCAAA,GAAAF,OAAA,CAAAG,qBAAA,GAAAH,OAAA,CAAAI,mBAAA,GAAAJ,OAAA,CAAAK,gCAAA,GAAAL,OAAA,CAAAM,oBAAA,GAAAN,OAAA,CAAAO,sBAAA;AAEV,IAAAC,MAAA,GAAAC,OAAA;AAOA,IAAAC,MAAA,GAAAD,OAAA;AAEO,MAAMH,oBAAoB,GAAGA,CAClCK,GAAuB,EACvBC,KAA4B,KACzB;EACH,MAAM;IAAEC;EAAK,CAAC,GAAGD,KAAK;EACtB,MAAME,KAAK,GAAGH,GAAG,CAACI,IAAI,CAACC,KAAK,CAACJ,KAAK,CAACE,KAAK,CAAC;EACzC,MAAMG,EAAE,GAAGN,GAAG,CAACI,IAAI,CAACG,WAAW,CAACC,SAAS,CAACL,KAAK,EAAEM,gBAAS,CAAC,IAAAC,cAAO,EAACR,IAAI,CAAC,CAAC,CAAC;EAC1E,OAAOI,EAAE;AACX,CAAC;AAACjB,OAAA,CAAAM,oBAAA,GAAAA,oBAAA;AAEK,MAAMJ,gCAAgC,GAAIS,GAAuB,IAAK;EAC3E,MAAMM,EAAE,GAAGN,GAAG,CAACI,IAAI,CAACG,WAAW,CAACI,qBAAqB,CAAC,CAAC;EACvD,OAAOL,EAAE;AACX,CAAC;AAACjB,OAAA,CAAAE,gCAAA,GAAAA,gCAAA;AAEK,MAAMG,gCAAgC,GAAIM,GAAuB,IAAK;EAC3E,MAAMM,EAAE,GAAGN,GAAG,CAACI,IAAI,CAACG,WAAW,CAACK,qBAAqB,CAAC,CAAC;EACvD,OAAON,EAAE;AACX,CAAC;AAACjB,OAAA,CAAAK,gCAAA,GAAAA,gCAAA;AAEK,MAAME,sBAAsB,GAAGA,CACpCI,GAAuB,EACvBC,KAA2B,KACxB;EACH,MAAM;IAAEY;EAAE,CAAC,GAAGZ,KAAK;EACnB,MAAMa,MAAM,GAAGd,GAAG,CAACe,YAAY,CAACC,GAAG,CAAC,CAAC;EACrC,MAAMC,KAAK,GAAGjB,GAAG,CAACe,YAAY,CAACC,GAAG,CAAC,CAAC;EACpC,IAAI,CAACC,KAAK,IAAI,CAACH,MAAM,EAAE;IACrB,MAAM,IAAII,KAAK,CACb,4DACF,CAAC;EACH;EACA,MAAMZ,EAAE,GAAGN,GAAG,CAACI,IAAI,CAACG,WAAW,CAACY,QAAQ,CAACN,CAAC,EAAEI,KAAK,EAAEH,MAAM,CAAC;EAC1Dd,GAAG,CAACe,YAAY,CAACK,IAAI,CAACd,EAAE,CAAC;AAC3B,CAAC;AAACjB,OAAA,CAAAO,sBAAA,GAAAA,sBAAA;AAEK,MAAMJ,qBAAqB,GAAGA,CACnCQ,GAAuB,EACvBC,KAA6B,KAC1B;EACH,MAAM;IAAEoB;EAAO,CAAC,GAAGpB,KAAK;EACxB,MAAMK,EAAE,GAAGN,GAAG,CAACI,IAAI,CAACG,WAAW,CAACe,UAAU,CAACD,MAAM,CAAC;EAClD,OAAOf,EAAE;AACX,CAAC;AAACjB,OAAA,CAAAG,qBAAA,GAAAA,qBAAA;AAEK,MAAMC,mBAAmB,GAAIO,GAAuB,IAAK;EAC9D,MAAMM,EAAE,GAAGN,GAAG,CAACI,IAAI,CAACG,WAAW,CAACgB,mBAAmB,CAAC,CAAC;EACrD,OAAOjB,EAAE;AACX,CAAC;AAACjB,OAAA,CAAAI,mBAAA,GAAAA,mBAAA","ignoreList":[]}