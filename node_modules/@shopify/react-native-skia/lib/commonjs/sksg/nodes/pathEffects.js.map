{"version":3,"names":["Object","defineProperty","exports","value","makePath2DPathEffect","makePath1DPathEffect","makeLine2DPathEffect","makeDiscretePathEffect","makeDashPathEffect","makeCornerPathEffect","declareSumPathEffect","_nodes","require","_types","ctx","props","length","deviation","seed","Skia","PathEffect","MakeDiscrete","matrix","path","processPath","pe","MakePath2D","Error","intervals","phase","MakeDash","r","MakeCorner","pes","pathEffects","popAll","composeDeclarations","MakeSum","bind","push","width","MakeLine2D","advance","style","MakePath1D","Path1DEffectStyle","enumKey"],"sources":["pathEffects.ts"],"sourcesContent":["\"worklet\";\n\nimport { composeDeclarations, enumKey, processPath } from \"../../dom/nodes\";\nimport type {\n  CornerPathEffectProps,\n  DashPathEffectProps,\n  DeclarationContext,\n  DiscretePathEffectProps,\n  Line2DPathEffectProps,\n  Path1DPathEffectProps,\n  Path2DPathEffectProps,\n} from \"../../dom/types\";\nimport { Path1DEffectStyle } from \"../../skia/types\";\n\nexport const makeDiscretePathEffect = (\n  ctx: DeclarationContext,\n  props: DiscretePathEffectProps\n) => {\n  const { length, deviation, seed } = props;\n  return ctx.Skia.PathEffect.MakeDiscrete(length, deviation, seed);\n};\n\nexport const makePath2DPathEffect = (\n  ctx: DeclarationContext,\n  props: Path2DPathEffectProps\n) => {\n  const { matrix } = props;\n  const path = processPath(ctx.Skia, props.path);\n  const pe = ctx.Skia.PathEffect.MakePath2D(matrix, path);\n  if (pe === null) {\n    throw new Error(\"Path2DPathEffect: invalid path\");\n  }\n  return pe;\n};\n\nexport const makeDashPathEffect = (\n  ctx: DeclarationContext,\n  props: DashPathEffectProps\n) => {\n  const { intervals, phase } = props;\n  const pe = ctx.Skia.PathEffect.MakeDash(intervals, phase);\n  return pe;\n};\n\nexport const makeCornerPathEffect = (\n  ctx: DeclarationContext,\n  props: CornerPathEffectProps\n) => {\n  const { r } = props;\n  const pe = ctx.Skia.PathEffect.MakeCorner(r);\n  if (pe === null) {\n    throw new Error(\"CornerPathEffect: couldn't create path effect\");\n  }\n  return pe;\n};\n\nexport const declareSumPathEffect = (ctx: DeclarationContext) => {\n  // Note: decorateChildren functionality needs to be handled differently\n  const pes = ctx.pathEffects.popAll();\n  const pe = composeDeclarations(\n    pes,\n    ctx.Skia.PathEffect.MakeSum.bind(ctx.Skia.PathEffect)\n  );\n  ctx.pathEffects.push(pe);\n};\n\nexport const makeLine2DPathEffect = (\n  ctx: DeclarationContext,\n  props: Line2DPathEffectProps\n) => {\n  const { width, matrix } = props;\n  const pe = ctx.Skia.PathEffect.MakeLine2D(width, matrix);\n  if (pe === null) {\n    throw new Error(\"Line2DPathEffect: could not create path effect\");\n  }\n  return pe;\n};\n\nexport const makePath1DPathEffect = (\n  ctx: DeclarationContext,\n  props: Path1DPathEffectProps\n) => {\n  const { advance, phase, style } = props;\n  const path = processPath(ctx.Skia, props.path);\n  const pe = ctx.Skia.PathEffect.MakePath1D(\n    path,\n    advance,\n    phase,\n    Path1DEffectStyle[enumKey(style)]\n  );\n  if (pe === null) {\n    throw new Error(\"Path1DPathEffect: could not create path effect\");\n  }\n  return pe;\n};\n"],"mappings":"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","ignoreList":[]}