{"version":3,"names":["Object","defineProperty","exports","value","processRect","processRRect","isEdge","inflate","deflate","_Radius","require","pos","b","x","y","width","height","isRRectCtor","def","rect","undefined","isRectCtor","Skia","_def$x","_def$y","XYWHRect","_def$r","_def$x2","_def$y2","r","processRadius","RRectXY","box","dx","dy","tx","ty","rx","ry"],"sources":["Rect.ts"],"sourcesContent":["\"worklet\";\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport type { Skia, SkRect, SkRRect, Vector } from \"../../../skia/types\";\nimport type { RectCtor, RectDef, RRectCtor, RRectDef } from \"../../types\";\n\nimport { processRadius } from \"./Radius\";\n\nexport const isEdge = (pos: Vector, b: SkRect) => {\n  return (\n    pos.x === b.x || pos.y === b.y || pos.x === b.width || pos.y === b.height\n  );\n};\n\n// We have an issue to check property existence on JSI backed instances\nconst isRRectCtor = (def: RRectDef): def is RRectCtor => {\n  return (def as any).rect === undefined;\n};\n// We have an issue to check property existence on JSI backed instances\nconst isRectCtor = (def: RectDef): def is RectCtor => {\n  return (def as any).rect === undefined;\n};\n\nexport const processRect = (Skia: Skia, def: RectDef) => {\n  if (isRectCtor(def)) {\n    return Skia.XYWHRect(def.x ?? 0, def.y ?? 0, def.width, def.height);\n  } else {\n    return def.rect;\n  }\n};\n\nexport const processRRect = (Skia: Skia, def: RRectDef) => {\n  if (isRRectCtor(def)) {\n    const r = processRadius(Skia, def.r ?? 0);\n    return Skia.RRectXY(\n      Skia.XYWHRect(def.x ?? 0, def.y ?? 0, def.width, def.height),\n      r.x,\n      r.y\n    );\n  } else {\n    return def.rect;\n  }\n};\n\nexport const inflate = (\n  Skia: Skia,\n  box: SkRRect,\n  dx: number,\n  dy: number,\n  tx = 0,\n  ty = 0\n) => {\n  return Skia.RRectXY(\n    Skia.XYWHRect(\n      box.rect.x - dx + tx,\n      box.rect.y - dy + ty,\n      box.rect.width + 2 * dx,\n      box.rect.height + 2 * dy\n    ),\n    box.rx + dx,\n    box.ry + dy\n  );\n};\n\nexport const deflate = (\n  Skia: Skia,\n  box: SkRRect,\n  dx: number,\n  dy: number,\n  tx = 0,\n  ty = 0\n) => {\n  return inflate(Skia, box, -dx, -dy, tx, ty);\n};\n"],"mappings":"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","ignoreList":[]}