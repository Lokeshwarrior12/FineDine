{"version":3,"names":["Object","defineProperty","exports","value","transformOrigin","processGradientProps","getRect","_types","require","_Enum","_Transform","origin","transform","translateX","x","translateY","y","Skia","colors","positions","mode","flags","localMatrix","Matrix","processTransformProps","map","color","Color","TileMode","enumKey","props","width","height","rect","undefined","XYWHRect"],"sources":["Gradient.ts"],"sourcesContent":["\"worklet\";\n\nimport type { Skia, SkRect, Transforms3d, Vector } from \"../../../skia/types\";\nimport { TileMode } from \"../../../skia/types\";\nimport type { GradientProps, ImageShaderProps } from \"../../types\";\n\nimport { enumKey } from \"./Enum\";\nimport { processTransformProps } from \"./Transform\";\n\nexport const transformOrigin = (origin: Vector, transform: Transforms3d) => [\n  { translateX: origin.x },\n  { translateY: origin.y },\n  ...transform,\n  { translateX: -origin.x },\n  { translateY: -origin.y },\n];\n\nexport const processGradientProps = (\n  Skia: Skia,\n  { colors, positions, mode, flags, ...transform }: GradientProps\n) => {\n  const localMatrix = Skia.Matrix();\n  processTransformProps(localMatrix, transform);\n  return {\n    colors: colors.map((color) => Skia.Color(color)),\n    positions: positions ?? null,\n    mode: TileMode[enumKey(mode ?? \"clamp\")],\n    flags,\n    localMatrix,\n  };\n};\n\nexport const getRect = (\n  Skia: Skia,\n  props: Omit<ImageShaderProps, \"tx\" | \"ty\" | \"fm\" | \"mm\" | \"fit\" | \"image\">\n): SkRect | undefined => {\n  const { x, y, width, height } = props;\n  if (props.rect) {\n    return props.rect;\n  } else if (width !== undefined && height !== undefined) {\n    return Skia.XYWHRect(x ?? 0, y ?? 0, width, height);\n  } else {\n    return undefined;\n  }\n};\n"],"mappings":";AAAA,SAAS;;AAACA,MAAA,CAAAC,cAAA,CAAAC,OAAA;EAAAC,KAAA;AAAA;AAAAD,OAAA,CAAAE,eAAA,GAAAF,OAAA,CAAAG,oBAAA,GAAAH,OAAA,CAAAI,OAAA;AAGV,IAAAC,MAAA,GAAAC,OAAA;AAGA,IAAAC,KAAA,GAAAD,OAAA;AACA,IAAAE,UAAA,GAAAF,OAAA;AAEO,MAAMJ,eAAe,GAAGA,CAACO,MAAc,EAAEC,SAAuB,KAAK,CAC1E;EAAEC,UAAU,EAAEF,MAAM,CAACG;AAAE,CAAC,EACxB;EAAEC,UAAU,EAAEJ,MAAM,CAACK;AAAE,CAAC,EACxB,GAAGJ,SAAS,EACZ;EAAEC,UAAU,EAAE,CAACF,MAAM,CAACG;AAAE,CAAC,EACzB;EAAEC,UAAU,EAAE,CAACJ,MAAM,CAACK;AAAE,CAAC,CAC1B;AAACd,OAAA,CAAAE,eAAA,GAAAA,eAAA;AAEK,MAAMC,oBAAoB,GAAGA,CAClCY,IAAU,EACV;EAAEC,MAAM;EAAEC,SAAS;EAAEC,IAAI;EAAEC,KAAK;EAAE,GAAGT;AAAyB,CAAC,KAC5D;EACH,MAAMU,WAAW,GAAGL,IAAI,CAACM,MAAM,CAAC,CAAC;EACjC,IAAAC,gCAAqB,EAACF,WAAW,EAAEV,SAAS,CAAC;EAC7C,OAAO;IACLM,MAAM,EAAEA,MAAM,CAACO,GAAG,CAAEC,KAAK,IAAKT,IAAI,CAACU,KAAK,CAACD,KAAK,CAAC,CAAC;IAChDP,SAAS,EAAEA,SAAS,aAATA,SAAS,cAATA,SAAS,GAAI,IAAI;IAC5BC,IAAI,EAAEQ,eAAQ,CAAC,IAAAC,aAAO,EAACT,IAAI,aAAJA,IAAI,cAAJA,IAAI,GAAI,OAAO,CAAC,CAAC;IACxCC,KAAK;IACLC;EACF,CAAC;AACH,CAAC;AAACpB,OAAA,CAAAG,oBAAA,GAAAA,oBAAA;AAEK,MAAMC,OAAO,GAAGA,CACrBW,IAAU,EACVa,KAA0E,KACnD;EACvB,MAAM;IAAEhB,CAAC;IAAEE,CAAC;IAAEe,KAAK;IAAEC;EAAO,CAAC,GAAGF,KAAK;EACrC,IAAIA,KAAK,CAACG,IAAI,EAAE;IACd,OAAOH,KAAK,CAACG,IAAI;EACnB,CAAC,MAAM,IAAIF,KAAK,KAAKG,SAAS,IAAIF,MAAM,KAAKE,SAAS,EAAE;IACtD,OAAOjB,IAAI,CAACkB,QAAQ,CAACrB,CAAC,aAADA,CAAC,cAADA,CAAC,GAAI,CAAC,EAAEE,CAAC,aAADA,CAAC,cAADA,CAAC,GAAI,CAAC,EAAEe,KAAK,EAAEC,MAAM,CAAC;EACrD,CAAC,MAAM;IACL,OAAOE,SAAS;EAClB;AACF,CAAC;AAAChC,OAAA,CAAAI,OAAA,GAAAA,OAAA","ignoreList":[]}